{# templates/components/stats_card.html.twig #}
{#
Composant pour afficher des cartes de statistiques avec nouveau formatage
Usage: {% include 'components/stats_card.html.twig' with {
    title: 'Titre',
    value: '42' ou 1500000,
    unit: 'kamas' ou null,
    subtitle: 'Description optionnelle',
    icon: 'ðŸ’°' (optionnel),
    color: 'blue' (optionnel: blue, green, orange, red, purple, yellow),
    size: 'normal' (optionnel: normal, large)
} %}
#}

{% set color_class = 'text-' ~ (color|default('blue')) ~ '-400' %}
{% set value_size = (size|default('normal')) == 'large' ? 'text-3xl' : 'text-2xl' %}

{# Gestion des diffÃ©rents types de valeurs #}
{% if value is not empty and value is not null %}
    {% if unit is defined and unit == 'kamas' %}
        {# Valeur avec unitÃ© kamas : utiliser le nouveau formatage #}
        {% set formatted_value = value|round|format_kamas %}
    {% else %}
        {# Autres valeurs : formatage classique #}
        {% set formatted_value = value|number_format(0, ',', ' ') %}
        {% set formatted_value = formatted_value ~ (unit is defined and unit ? ' ' ~ unit : '') %}
    {% endif %}
{% else %}
    {% set formatted_value = value ~ (unit is defined and unit ? ' ' ~ unit : '') %}
{% endif %}

<div class="wrapper-background text-center">
    <h3 class="text-white text-lg font-semibold mb-2 flex items-center justify-center">
        {% if icon is defined %}
            <span class="mr-2">{{ icon }}</span>
        {% endif %}
        {{ title }}
    </h3>
    
    <p class="{{ color_class }} {{ value_size }} font-bold">
        {{ formatted_value }}
    </p>
    
    {% if subtitle is defined %}
        <p class="text-gray-400 text-sm">{{ subtitle }}</p>
    {% endif %}
</div>